<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hengda Android</title>
  <subtitle>恒心所致，达有所成！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-03-16T10:03:21.330Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>HdAndroidTeam</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>CommonAdapter-Tailyou</title>
    <link href="http://yoursite.com/2017/03/16/CommonAdapter-Tailyou/"/>
    <id>http://yoursite.com/2017/03/16/CommonAdapter-Tailyou/</id>
    <published>2017-03-16T10:00:46.000Z</published>
    <updated>2017-03-16T10:03:21.330Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><p>通用Adapter，适用于单布局ListView、多布局ListView、单布局RecyclerView，多布局RecyclerView，带章节标题RecyclerView，GridView与ViewPage结合使用等情况。</p>
<h2 id="二、版本"><a href="#二、版本" class="headerlink" title="二、版本"></a>二、版本</h2><p>已在多个项目中使用，且已上传jCenter，最新版本0.0.6，直接在gradle中添加即可。<br>compile ‘com.hengda.zwf:CommonAdapter:0.0.6’</p>
<h2 id="三、效果"><a href="#三、效果" class="headerlink" title="三、效果"></a>三、效果</h2><h3 id="1、单布局ListView"><a href="#1、单布局ListView" class="headerlink" title="1、单布局ListView"></a>1、单布局ListView</h3><p><img src="http://oksdjdocc.bkt.clouddn.com/17-2-3/89062263-file_1486106094623_13cca.png" alt=""></p>
<h3 id="2、多布局ListView"><a href="#2、多布局ListView" class="headerlink" title="2、多布局ListView"></a>2、多布局ListView</h3><p><img src="http://oksdjdocc.bkt.clouddn.com/17-2-3/95414587-file_1486106094743_467a.png" alt=""></p>
<h3 id="3、单布局RecyclerView"><a href="#3、单布局RecyclerView" class="headerlink" title="3、单布局RecyclerView"></a>3、单布局RecyclerView</h3><p><img src="http://oksdjdocc.bkt.clouddn.com/17-2-3/7801613-file_1486106094857_1789f.png" alt=""></p>
<h3 id="4、多布局RecyclerView"><a href="#4、多布局RecyclerView" class="headerlink" title="4、多布局RecyclerView"></a>4、多布局RecyclerView</h3><p><img src="http://oksdjdocc.bkt.clouddn.com/17-2-3/51561209-file_1486106094971_210f.png" alt=""></p>
<h3 id="5、章节标题RecyclerView"><a href="#5、章节标题RecyclerView" class="headerlink" title="5、章节标题RecyclerView"></a>5、章节标题RecyclerView</h3><p><img src="http://oksdjdocc.bkt.clouddn.com/17-2-3/79560240-file_1486106095086_dd99.png" alt=""></p>
<h3 id="6、GridView结合ViewPage"><a href="#6、GridView结合ViewPage" class="headerlink" title="6、GridView结合ViewPage"></a>6、GridView结合ViewPage</h3><p><img src="http://oksdjdocc.bkt.clouddn.com/17-2-3/4686495-file_1486106094388_21d9.png" alt=""></p>
<h2 id="四、使用"><a href="#四、使用" class="headerlink" title="四、使用"></a>四、使用</h2><p>具体用法见demo。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、概述&quot;&gt;&lt;a href=&quot;#一、概述&quot; class=&quot;headerlink&quot; title=&quot;一、概述&quot;&gt;&lt;/a&gt;一、概述&lt;/h2&gt;&lt;p&gt;通用Adapter，适用于单布局ListView、多布局ListView、单布局RecyclerView，多布局Recycl
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>文件下载-白世伟</title>
    <link href="http://yoursite.com/2017/03/16/%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD-%E7%99%BD%E4%B8%96%E4%BC%9F/"/>
    <id>http://yoursite.com/2017/03/16/文件下载-白世伟/</id>
    <published>2017-03-16T10:00:24.000Z</published>
    <updated>2017-03-16T10:05:07.585Z</updated>
    
    <content type="html"><![CDATA[<p>#HDFileLoader-文件下载框架</p>
<p>##概述<br>基于OKHttp3开发，自带服务器和本地资源文件的同步更新。具体使用方式详见Samples</p>
<p>##更新日志</p>
<p>####V0.0.1</p>
<ul>
<li>完成基础框架构建</li>
<li><p>增加资源同步更新<br>##用法<br>###引入插件</p>
<blockquote>
<p>Gradle:</p>
</blockquote>
<pre><code>暂无
</code></pre><blockquote>
<p>Maven:</p>
</blockquote>
<pre><code>暂无
</code></pre></li>
</ul>
<p>###使用</p>
<p>####1.在Application.onCreate中初始化全局配置；<br>    OkHttpClient okHttpClient = new OkHttpClient.Builder()<br>             connectTimeout(10000L, TimeUnit.MILLISECONDS)<br>             readTimeout(10000L, TimeUnit.MILLISECONDS)<br>             addInterceptor(new LoggerInterceptor(“TAG”))<br>             build();<br>    HDFileLoader.initClient(getApplicationContext(),okHttpClient);<br>注意:addInterceptor(new LoggerInterceptor(“TAG”))用于输出debug调试信息，如果不需要可以去掉。</p>
<p>#####FileLoader有两种使用方式，一种是自带下载框，一种是基础版下载框架,需要自定义下载框；</p>
<p>####2 使用自带下载框的方式<br>(1)在Presenter，Fragment或Activity中实现DownloadCallBackListener接口，并实现以下三个回调方法</p>
<pre><code>@Override
public void completed(File file) {
    //下载完成后回调此方法，返回下载文件，可通过file.getAbsolutePath()获取绝对路径;
}

@Override
public void justPlay(String fileDir) {
    //此方法回调分两种方式
    //1，若果没有开启检查更新功能则判断本地文件是否存在，存在则回调；
    //2，如果开启了检查更新功能，如果下载文件不需要更新则回调；
}

@Override
public void error(Exception e) {
    //下载失败回调，例如没有网络，连接超时，找不到下载地址（404），无法访问存储路径等等。
}
</code></pre><p>（2）开始下载</p>
<pre><code>Downloader.Builder.create(MainActivity.this)
                        .url(url)//下载地址
                        .src(basicPath + &quot;0002/0002.aac&quot;)//源资源路径（例如播放路徑）
                        .des(basicPath)//下载保存路径
                        .name(&quot;0002.zip&quot;)//保存的文件名
                        .title(&quot;正在下载&quot;)//下载框标题
                        .ckeck(true)//是否自动检查更新，默认false
                        .unzip(true)//是否需要解压缩，默认true
                        .listener(MainActivity.this)//回调监听
                        .showCancel(true)//是否显示取消按钮，默认false
                        .build()
                        .start();//开始下载
</code></pre><p>####3.使用基础版下载框架<br>（1）创建一个RequestCall</p>
<pre><code>RequestCall call = HDFileLoader.get().url(url).build();
</code></pre><p>url为资源下载地址。<br>（2）创建FileCallBack回调，监听下载中的各种状态</p>
<pre><code>callBack=new FileCallBack(mSrc, mDes, mName, mCheck) {
    @Override
    public void connected(long total, int id) {

        //进行一些初始化的操作
    }

    @Override
    public void inProgress(float progress, long total, int id) {

        //下载进度回调，progress为已完成百分比，total为总长；
    }

    @Override
    public void completed(File file, int id) {

        //下载完成时回调，可以在这里解压缩及后续操作
    }

    @Override
    public void justPlay(String destFileDir) {
        //回调同带下载框方式一样
    }

    @Override
    public void onError(Call call, Exception e, int id) {

        //下载失败回调，例如没有网络，连接超时，找不到下载地址（404），无法访问存储路径等等。
    }
};
</code></pre><p>FileCallBack需要传入四个参数：</p>
<ol>
<li>源资源路径（例如播放路徑）；</li>
<li>下载路径。板锉</li>
<li>保存的文件名</li>
<li>是否启用检查更新</li>
</ol>
<p>####4.开始下载<br>    call.execute(callBack);</p>
<p>####5.取消下载<br>    call.cancel();</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;#HDFileLoader-文件下载框架&lt;/p&gt;
&lt;p&gt;##概述&lt;br&gt;基于OKHttp3开发，自带服务器和本地资源文件的同步更新。具体使用方式详见Samples&lt;/p&gt;
&lt;p&gt;##更新日志&lt;/p&gt;
&lt;p&gt;####V0.0.1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;完成基础框架构建&lt;/
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>移动支付-常文达</title>
    <link href="http://yoursite.com/2017/03/16/%E7%A7%BB%E5%8A%A8%E6%94%AF%E4%BB%98-%E5%B8%B8%E6%96%87%E8%BE%BE/"/>
    <id>http://yoursite.com/2017/03/16/移动支付-常文达/</id>
    <published>2017-03-16T10:00:13.000Z</published>
    <updated>2017-03-16T10:03:58.193Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><p>支付宝和微信支付</p>
<h2 id="二、引入方法"><a href="#二、引入方法" class="headerlink" title="二、引入方法"></a>二、引入方法</h2><p>dependencies {<br>      compile ‘com.wenda.pay:wd_pay:0.0.8’<br>}</p>
<h2 id="三、使用"><a href="#三、使用" class="headerlink" title="三、使用"></a>三、使用</h2><p>支付宝支付<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">AliPayReq aliPayReq = new AliPayReq.Builder()</div><div class="line">        .with(MainActivity.this)</div><div class="line">        .setOrderInfo(OrderInfo) //OrderInfo为订单详情，服务器拼好的</div><div class="line">        .create()</div><div class="line"></div><div class="line"> PayAPI.getInstance().sendPayRequest(aliPayReq);//调起支付</div><div class="line"></div><div class="line">//关于支付宝支付的回调</div><div class="line">//aliPayReq.setOnAliPayListener(new OnAliPayListener);</div></pre></td></tr></table></figure></p>
<p>回调说明<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">.setOnAliPayListener(new AliPayReq.OnAliPayListener() &#123;</div><div class="line">                         @Override</div><div class="line">                         public void onPaySuccess(String resultInfo) &#123;</div><div class="line">                             Toast.makeText(MainActivity.this,&quot;支付成功&quot;,Toast.LENGTH_LONG).show();</div><div class="line">                         &#125;</div><div class="line"></div><div class="line">                         @Override</div><div class="line">                         public void onPayFailure(String resultInfo) &#123;//包括用户主动取消支付，或者系统返回的错误</div><div class="line">                             Toast.makeText(MainActivity.this,&quot;支付失败&quot;,Toast.LENGTH_LONG).show();</div><div class="line">                         &#125;</div><div class="line"></div><div class="line">                         @Override</div><div class="line">                         public void onPayConfirmimg(String resultInfo) &#123;//代表支付结果因为支付渠道原因或者系统原因还在等待支付结果确认，最终交易是否成功以服务端异步通知为准（小概率状态）</div><div class="line">                             Toast.makeText(MainActivity.this,&quot;支付失败&quot;,Toast.LENGTH_LONG).show();</div><div class="line">                         &#125;</div><div class="line">                     &#125;);</div></pre></td></tr></table></figure></p>
<p>微信支付<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">WechatPayReq wechatPayReq = new WechatPayReq.Builder()</div><div class="line">                .with(MainActivity.this) //activity实例</div><div class="line">                .setAppId(&quot;AppId&quot;) //微信支付AppID</div><div class="line">                .setPartnerId(&quot;PartnerId&quot;)//微信支付商户号</div><div class="line">                .setPrepayId(&quot;PrepayId&quot;)//预支付码</div><div class="line">                .setNonceStr(&quot;NonceStr&quot;)</div><div class="line">                .setTimeStamp(&quot;TimeStamp&quot;)//时间戳</div><div class="line">                .setSign(&quot;Sign&quot;)//签名</div><div class="line">                .create();</div><div class="line">        PayAPI.getInstance().sendPayRequest(wechatPayReq);//调起支付</div><div class="line">          //关于微信支付的回调  要在支付前调用</div><div class="line">        wechatPayReq.init(getApplicationContext(), &quot;AppId&quot;);</div><div class="line">        WechatPayReq.getInstance().setWXPayResultCallBack();</div></pre></td></tr></table></figure></p>
<p>回调说明<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">WechatPayReq.getInstance().setWXPayResultCallBack(new WechatPayReq.WXPayResultCallBack() &#123;</div><div class="line">      @Override</div><div class="line">      public void onSuccess() &#123;</div><div class="line">          Toast.makeText(MainActivity.this,&quot;支付成功&quot;,Toast.LENGTH_LONG).show();</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      @Override</div><div class="line">      public void onError(int error_code) &#123;//错误 可能的原因：签名错误、未注册APPID、项目设置APPID不正确、注册的APPID与设置的不匹配、其他异常等</div><div class="line">          Toast.makeText(MainActivity.this,&quot;支付失败&quot;,Toast.LENGTH_LONG).show();</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      @Override</div><div class="line">      public void onCancel() &#123;// 用户取消 无需处理。发生场景：用户不支付了，点击取消，返回APP。</div><div class="line">          Toast.makeText(MainActivity.this,&quot;支付失败&quot;,Toast.LENGTH_LONG).show();</div><div class="line">      &#125;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure></p>
<p>微信支付需增加的权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;activity</div><div class="line">        android:name=&quot;com.wenda.pay.WXPayCallbackActivity&quot;</div><div class="line">        android:configChanges=&quot;orientation|keyboardHidden|navigation|screenSize&quot;</div><div class="line">        android:launchMode=&quot;singleTop&quot;</div><div class="line">        android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot; /&gt;</div><div class="line"></div><div class="line">    &lt;activity-alias</div><div class="line">        android:name=&quot;.wxapi.WXPayEntryActivity&quot;</div><div class="line">        android:exported=&quot;true&quot;</div><div class="line">        android:targetActivity=&quot;com.wenda.pay.WXPayCallbackActivity&quot; /&gt;</div></pre></td></tr></table></figure></p>
<p>混淆</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">#wechat pay</div><div class="line">-dontwarn com.tencent.**</div><div class="line">-keep class com.tencent.** &#123;*;&#125;</div><div class="line"></div><div class="line"></div><div class="line">#alipay</div><div class="line">-dontwarn com.alipay.**</div><div class="line">-keep class com.alipay.** &#123;*;&#125;</div><div class="line"></div><div class="line">-dontwarn  com.ta.utdid2.**</div><div class="line">-keep class com.ta.utdid2.** &#123;*;&#125;</div><div class="line"></div><div class="line">-dontwarn  com.ut.device.**</div><div class="line">-keep class com.ut.device.** &#123;*;&#125;</div><div class="line"></div><div class="line">-dontwarn  org.json.alipay.**</div><div class="line">-keep class corg.json.alipay.** &#123;*;&#125;</div></pre></td></tr></table></figure>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>###微信支付<br>微信支付必须是正式的签名包和正确的包名才能调起。</p>
<p>微信支付<br><a href="https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=8_5" target="_blank" rel="external">https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=8_5</a></p>
<p>支付宝支付<br><a href="https://doc.open.alipay.com/docs/doc.htm?spm=a219a.7629140.0.0.1wPnBT&amp;treeId=204&amp;articleId=106079&amp;docType=1" target="_blank" rel="external">https://doc.open.alipay.com/docs/doc.htm?spm=a219a.7629140.0.0.1wPnBT&amp;treeId=204&amp;articleId=106079&amp;docType=1</a></p>
<p>demo里的数据是测试数据，都是已支付过的所以不能支付成功</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、概述&quot;&gt;&lt;a href=&quot;#一、概述&quot; class=&quot;headerlink&quot; title=&quot;一、概述&quot;&gt;&lt;/a&gt;一、概述&lt;/h2&gt;&lt;p&gt;支付宝和微信支付&lt;/p&gt;
&lt;h2 id=&quot;二、引入方法&quot;&gt;&lt;a href=&quot;#二、引入方法&quot; class=&quot;headerli
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>多模收号-Tailyou</title>
    <link href="http://yoursite.com/2017/03/16/%E5%A4%9A%E6%A8%A1%E6%94%B6%E5%8F%B7-Tailyou/"/>
    <id>http://yoursite.com/2017/03/16/多模收号-Tailyou/</id>
    <published>2017-03-16T09:59:51.000Z</published>
    <updated>2017-03-16T10:03:03.154Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><p>收号模块，包rfid，ble，wifi三种收号方式。已升级支持RxJava2.</p>
<h2 id="二、版本"><a href="#二、版本" class="headerlink" title="二、版本"></a>二、版本</h2><p>已在多个项目中使用，且已上传jCenter，最新版本0.1.4，直接在gradle中添加即可。<br>compile ‘com.hengda.zwf:AutoNoUtil:0.1.4’</p>
<h2 id="三、思路"><a href="#三、思路" class="headerlink" title="三、思路"></a>三、思路</h2><h3 id="1、BLE收号思路"><a href="#1、BLE收号思路" class="headerlink" title="1、BLE收号思路"></a>1、BLE收号思路</h3><ul>
<li>1、启动蓝牙收号后，将后台扫描得到的 BluetoothDevice device, int rssi, byte[] scanRecord 解析成Beacon；</li>
<li>2、将Beacon通过 RxBus 发送；</li>
<li>3、在收号服务中接收Beacon，根据一定条件过滤，将符合条件的Beacon加入List；</li>
<li>4、每个一定时间间隔从List中取AutoNo，取的原则是：按平均rssi排序，较大为优</li>
</ul>
<h3 id="2、WiFi收号思路"><a href="#2、WiFi收号思路" class="headerlink" title="2、WiFi收号思路"></a>2、WiFi收号思路</h3><ul>
<li>1、启动WiFi收号后，通过RxBus发送后台扫描得到的 ScanResult；</li>
<li>3、在收号服务中接收 ScanResult，根据一定条件过滤，将符合条件的 ScanResult 加入List；</li>
<li>4、每个一定时间间隔从List中取AutoNo，取的原则是：按平均 level 排序，较大为优</li>
</ul>
<h3 id="3、Rfid收号思路"><a href="#3、Rfid收号思路" class="headerlink" title="3、Rfid收号思路"></a>3、Rfid收号思路</h3><p>Rfid收号只有导览机使用，这一部分其实就是拷贝代码，接收设备底层上传的数据并解析得到多模号；</p>
<h2 id="四、使用"><a href="#四、使用" class="headerlink" title="四、使用"></a>四、使用</h2><p>具体使用见demo。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、概述&quot;&gt;&lt;a href=&quot;#一、概述&quot; class=&quot;headerlink&quot; title=&quot;一、概述&quot;&gt;&lt;/a&gt;一、概述&lt;/h2&gt;&lt;p&gt;收号模块，包rfid，ble，wifi三种收号方式。已升级支持RxJava2.&lt;/p&gt;
&lt;h2 id=&quot;二、版本&quot;&gt;&lt;a h
    
    </summary>
    
    
  </entry>
  
</feed>
